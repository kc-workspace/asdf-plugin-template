#!/usr/bin/env bash

## Install a specific version of a tool to a specified location.
## https://asdf-vm.com/plugins/create.html#bin-install

## -----------------------
## Customization functions

# kc_asdf_main() {
#   return 0
# }

{% if source_enabled -%}
_kc_asdf_custom_install_source() {
  local version="$1"
  local download_path="$2" install_path="$3"
  local concurrency="$4"
  kc_asdf_error "install source hasn't been implemented"
  return 1
}
{%- endif %}

## -----------------------

set -euo pipefail

export KC_ASDF_PLUGIN_ENTRY_PATH=${BASH_SOURCE[0]}
export KC_ASDF_PLUGIN_ENTRY_NAME
KC_ASDF_PLUGIN_ENTRY_NAME="$(basename "$KC_ASDF_PLUGIN_ENTRY_PATH")"
export KC_ASDF_PLUGIN_PATH
KC_ASDF_PLUGIN_PATH=$(dirname "$(dirname "$KC_ASDF_PLUGIN_ENTRY_PATH")")

# shellcheck source-path=SCRIPTDIR/../lib/commands.sh
source "$KC_ASDF_PLUGIN_PATH/lib/commands.sh" "$@"
