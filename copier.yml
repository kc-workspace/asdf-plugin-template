---
_subdirectory: templates
_answers_file: .copier-answers.yml

_skip_if_exists:
    - lib/utils.sh
    - bin

_tasks:
  - "git init"
  - "git remote add origin {{ git_remote }} || exit 0"

app_name:
  type: str
  help: What is your app name?
  placeholder: xxxx

app_git_repo:
  type: str
  help: Where is your app git repo?
  placeholder: https://github.com/octocat/Hello-World

app_download_link:
  type: str
  help: Where can we download app (variables '${arch}', '${os}', '${version}')?
  placeholder: https://example.com/${version}/${arch}/${os}/download

app_download_type:
  type: str
  help: What is your app download type?
  default: file
  choices:
    - file
    - directory

app_download_file:
  type: str
  help: Where is your app path from download directory (variables '${arch}', '${os}', '${version}')?
  when: "{{ app_download_type == 'file' }}"
  default: "{{ app_name }}"

app_strip_component:
  type: int
  help: How many directory in tar.gz need to strip before found tool?
  default: 0

settings_os_mapper_enabled:
  type: bool
  help: Is default OS name (from 'uname') meet your requirement?
  default: false

setting_os_mapper_darwin:
  type: str
  help: What is your darwin (macOS) name?
  default: darwin
  when: "{{ settings_os_mapper_enabled }}"

setting_os_mapper_linux:
  type: str
  help: What is your linux OS name?
  default: linux
  when: "{{ settings_os_mapper_enabled }}"

setting_test_command_arguments:
  type: str
  help: How to test app commandline (e.g. --help)?
  default: ''

plugin_org:
  type: str
  help: What is your plugin Github organization?
  default: kc-workspace

plugin_name:
  type: str
  help: What is your plugin name?
  default: asdf-{{ app_name }}

plugin_author:
  type: str
  help: Who are you (prefer full name)?
  default: Kamontat Chantrachirathumrong

git_remote:
  type: str
  help: What is your git remote type?
  default: https://github.com/{{ plugin_org }}/{{ plugin_name }}.git
  choices:
    https: https://github.com/{{ plugin_org }}/{{ plugin_name }}.git
    ssh: git@github.com:{{ plugin_org }}/{{ plugin_name }}.git
